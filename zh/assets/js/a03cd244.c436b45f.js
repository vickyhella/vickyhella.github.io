"use strict";(self.webpackChunkvickyhella_github_io=self.webpackChunkvickyhella_github_io||[]).push([[2587],{3905:function(e,t,n){n.d(t,{Zo:function(){return m},kt:function(){return h}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},m=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),d=s(n),u=r,h=d["".concat(p,".").concat(u)]||d[u]||c[u]||i;return n?a.createElement(h,l(l({ref:t},m),{},{components:n})):a.createElement(h,l({ref:t},m))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=u;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[d]="string"==typeof e?e:r,l[1]=o;for(var s=2;s<i;s++)l[s]=n[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},8332:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return l},default:function(){return c},frontMatter:function(){return i},metadata:function(){return o},toc:function(){return s}});var a=n(3117),r=(n(7294),n(3905));const i={title:"Searching for Files or Content",sidebar_position:5},l=void 0,o={unversionedId:"development-basics/linux_commands/search_files_or_content",id:"development-basics/linux_commands/search_files_or_content",title:"Searching for Files or Content",description:"find",source:"@site/docs/development-basics/linux_commands/search_files_or_content.md",sourceDirName:"development-basics/linux_commands",slug:"/development-basics/linux_commands/search_files_or_content",permalink:"/zh/docs/development-basics/linux_commands/search_files_or_content",draft:!1,editUrl:"https://github.com/vickyhella/vickyhella.github.io/edit/main/docs/development-basics/linux_commands/search_files_or_content.md",tags:[],version:"current",lastUpdatedBy:"vickyhella",lastUpdatedAt:1727232506,formattedLastUpdatedAt:"2024\u5e749\u670825\u65e5",sidebarPosition:5,frontMatter:{title:"Searching for Files or Content",sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Copying and Moving Files",permalink:"/zh/docs/development-basics/linux_commands/copy_move_files"},next:{title:"Git",permalink:"/zh/docs/development-basics/git/"}},p={},s=[{value:"<code>find</code>",id:"find",level:2},{value:"<code>grep</code>",id:"grep",level:2},{value:"Using <code>find</code> and <code>grep</code> in conjunction",id:"using-find-and-grep-in-conjunction",level:2},{value:"Performing Operations on the Searched Files/Content",id:"performing-operations-on-the-searched-filescontent",level:2},{value:"<code>sed</code>",id:"sed",level:3}],m={toc:s},d="wrapper";function c(e){let{components:t,...n}=e;return(0,r.kt)(d,(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"find"},(0,r.kt)("inlineCode",{parentName:"h2"},"find")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"find")," command is used to ",(0,r.kt)("strong",{parentName:"p"},"search for files and directories"),", and even perform operations on the files/directories found."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"find [path] [expression]\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"[path]"),": specifies the directory to start the search from. If ",(0,r.kt)("inlineCode",{parentName:"p"},"path")," is not specified, the current directory is used as the starting point.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"[expression]"),": specifies the search criteria. ",(0,r.kt)("inlineCode",{parentName:"p"},"expression")," can contain one or more tests and actions. Tests are used to ",(0,r.kt)("strong",{parentName:"p"},"match files based on different criteria"),", while actions are used to ",(0,r.kt)("strong",{parentName:"p"},"perform operations on the matched files"),"."),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"match options"),":")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"-name pattern"),": matches files based on their name. The pattern argument can be a string or a regular expression."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'# The pattern can include wildcards such as * and ?.\nfind . -name "*.txt"\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"-type type"),": matches files based on their type. The type argument can be ",(0,r.kt)("inlineCode",{parentName:"p"},"f")," for regular files, ",(0,r.kt)("inlineCode",{parentName:"p"},"d")," for directories, ",(0,r.kt)("inlineCode",{parentName:"p"},"l")," for symbolic links, and more."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# searches for all directories \n# in the current directory and its subdirectories\nfind . -type d\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"-size size"),": matches files based on their size. The size argument can be a number followed by a size suffix, such as ",(0,r.kt)("inlineCode",{parentName:"p"},"k")," for kilobytes, ",(0,r.kt)("inlineCode",{parentName:"p"},"M")," for megabytes, and so on."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# searches for all files that are more than 1 megabyte in size\nfind . -type f -size +1M\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"-mtime days"),": matches files based on their modification time. The days argument specifies the number of days ago the file was modified."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# searches for all files that were modified more than 30 days ago\nfind . -type f -mtime +30\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"-user user"),": matches files based on their owner. The user argument specifies the username of the file owner."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# Find all files in the /home directory \n# that are owned by the user john\nfind /home -user john\n")))),(0,r.kt)("ol",{parentName:"li",start:2},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"action options"),":")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"-exec command {} \\;"),": performs a command on the matched files. The ",(0,r.kt)("inlineCode",{parentName:"p"},"{}")," placeholder is replaced by the name of the matched file or directory, and ",(0,r.kt)("inlineCode",{parentName:"p"},"\\;")," marks the end of the command."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'# print the size of each file with the extension .txt\nfind . -name "*.txt" -exec du -sh {} \\;\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"-print"),": displays the files that are found by the find command."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'find . -type f -name "*.txt" -print\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"-delete"),": deletes the files that are found by the find command."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'find . -type f -name "*.log" -delete\n')))))),(0,r.kt)("h2",{id:"grep"},(0,r.kt)("inlineCode",{parentName:"h2"},"grep")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"grep")," is short for ",(0,r.kt)("inlineCode",{parentName:"p"},"global regular expression print"),". It's used to ",(0,r.kt)("strong",{parentName:"p"},"search for a specified pattern of text")," in one or more files or standard input."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"grep [options] pattern [file...]\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"pattern"),": ",(0,r.kt)("strong",{parentName:"p"},"regular expression (or string)")," that you want to search for in the specified file(s), or in standard input if no ",(0,r.kt)("inlineCode",{parentName:"p"},"file")," is provided.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"file"),": the file or files that you want to search in."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# allows searching in multiple files\ngrep apple fruits.txt vegetables.txt\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"options"),": optional command-line arguments that can modify the behavior of ",(0,r.kt)("inlineCode",{parentName:"p"},"grep"),"."))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Commonly used options"),":"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"--include"),": restricts the grep search to only certain types of files.",(0,r.kt)("br",{parentName:"p"}),"\n","For example, you can use ",(0,r.kt)("inlineCode",{parentName:"p"},'--include="*.txt"')," to only search through those files and ignore all other files.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"--exclude"),": specifies a filename pattern that should be excluded from the grep search."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# syntax:\ngrep [OPTIONS] PATTERN --include=GLOB_PATTERN FILE_PATTERN\n\n# search for the word \"example\" in all .txt files\ngrep --include='*.txt' -r 'example' .\n\n# search for the word \"example\" in all .txt and .md files\ngrep --include='*.txt' --include='*.md' -r 'example' .\n")),(0,r.kt)("admonition",{parentName:"li",type:"note"},(0,r.kt)("p",{parentName:"admonition"},"If ",(0,r.kt)("inlineCode",{parentName:"p"},"--include")," is not used, all files in the specified directories and subdirectories will be searched through. ",(0,r.kt)("inlineCode",{parentName:"p"},"--include")," helps narrow down the search."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"-i"),": ignores case.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"-v"),": inverts the match, i.e., selects non-matching lines.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"-n")," : displays the matched lines and their line numbers."),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-A n"),": prints searched line and n lines after the result."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-B n"),": prints searched line and n line before the result."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-C n"),": prints searched line and n lines after before the result."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"-w"),": matches the whole word.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"-r"),": searches recursively through directories and their subdirectories."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# include all subdirectories in a search\ngrep -r pattern *\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"-e expression"),": specifies the pattern to search for. Can be used multiple times."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# lines that contain either pattern1 or pattern2 in file.txt\ngrep -e pattern1 -e pattern2 file.txt\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"-c"),": prints only a count of matching lines.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"-l"),": prints only the list of filenames only.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"-f file"),": takes patterns from a file, one pattern per line."))),(0,r.kt)("h2",{id:"using-find-and-grep-in-conjunction"},"Using ",(0,r.kt)("inlineCode",{parentName:"h2"},"find")," and ",(0,r.kt)("inlineCode",{parentName:"h2"},"grep")," in conjunction"),(0,r.kt)("p",null,"To search for specific content in specific files, you can use ",(0,r.kt)("inlineCode",{parentName:"p"},"find")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"grep")," in conjuction as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'find /path/to/search -name "*.txt" -exec grep "search_pattern" {} \\;\n')),(0,r.kt)("p",null,"This command:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"searches for all ",(0,r.kt)("inlineCode",{parentName:"li"},".txt")," files in ",(0,r.kt)("inlineCode",{parentName:"li"},"/path/to/search"),"."),(0,r.kt)("li",{parentName:"ol"},"searches for the text string ",(0,r.kt)("inlineCode",{parentName:"li"},"search_pattern")," within each of those files.")),(0,r.kt)("h2",{id:"performing-operations-on-the-searched-filescontent"},"Performing Operations on the Searched Files/Content"),(0,r.kt)("p",null,"You can use ",(0,r.kt)("inlineCode",{parentName:"p"},"find")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"grep")," to search for what you want, but eventually you might want to perform operations on what is searched."),(0,r.kt)("p",null,"To pass the searched results to the operation command, use ",(0,r.kt)("inlineCode",{parentName:"p"},"|")," to pipe the output of ",(0,r.kt)("inlineCode",{parentName:"p"},"grep")," to the operation command."),(0,r.kt)("h3",{id:"sed"},(0,r.kt)("inlineCode",{parentName:"h3"},"sed")),(0,r.kt)("p",null,"Replaces all ",(0,r.kt)("inlineCode",{parentName:"p"},"old_string")," with ",(0,r.kt)("inlineCode",{parentName:"p"},"new_string")," in the searched content."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'find /path/to/search -name "*.txt" -exec grep "search_pattern" {} \\; | sed \'s/old_string/new_string/g\'\n')))}c.isMDXComponent=!0}}]);