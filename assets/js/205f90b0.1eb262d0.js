"use strict";(self.webpackChunkvickyhella_github_io=self.webpackChunkvickyhella_github_io||[]).push([[9542],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return g}});var o=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=o.createContext({}),u=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},c=function(e){var t=u(e.components);return o.createElement(l.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},h=o.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=u(n),h=i,g=d["".concat(l,".").concat(h)]||d[h]||p[h]||r;return n?o.createElement(g,a(a({ref:t},c),{},{components:n})):o.createElement(g,a({ref:t},c))}));function g(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,a=new Array(r);a[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:i,a[1]=s;for(var u=2;u<r;u++)a[u]=n[u];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}h.displayName="MDXCreateElement"},2593:function(e,t,n){n.r(t),n.d(t,{assets:function(){return l},contentTitle:function(){return a},default:function(){return p},frontMatter:function(){return r},metadata:function(){return s},toc:function(){return u}});var o=n(3117),i=(n(7294),n(3905));const r={title:"Using Multiple Sidebars in Docusaurus",sidebar_position:1},a=void 0,s={unversionedId:"pages-from-docs-team/multi-sidebar",id:"pages-from-docs-team/multi-sidebar",title:"Using Multiple Sidebars in Docusaurus",description:"Context",source:"@site/docs/pages-from-docs-team/multi-sidebar.md",sourceDirName:"pages-from-docs-team",slug:"/pages-from-docs-team/multi-sidebar",permalink:"/docs/pages-from-docs-team/multi-sidebar",draft:!1,editUrl:"https://github.com/vickyhella/vickyhella.github.io/edit/main/docs/pages-from-docs-team/multi-sidebar.md",tags:[],version:"current",lastUpdatedBy:"vickyhella",lastUpdatedAt:1695113814,formattedLastUpdatedAt:"Sep 19, 2023",sidebarPosition:1,frontMatter:{title:"Using Multiple Sidebars in Docusaurus",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Updating API Docs",permalink:"/docs/docusaurus/api-docs"},next:{title:"Search Engine Optimization (SEO)",permalink:"/docs/pages-from-docs-team/seo"}},l={},u=[{value:"Context",id:"context",level:2},{value:"Configuration",id:"configuration",level:2},{value:"sidebar.js",id:"sidebarjs",level:3},{value:"docusaurus.config.js",id:"docusaurusconfigjs",level:3},{value:"Caveats",id:"caveats",level:2},{value:"Conclusion and next steps",id:"conclusion-and-next-steps",level:2}],c={toc:u},d="wrapper";function p(e){let{components:t,...n}=e;return(0,i.kt)(d,(0,o.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"context"},"Context"),(0,i.kt)("p",null,"As discussed during the docs meeting of the 8th of June 2023, we'r\xe9 slowly seeing the limits of the Divio paradigm for certain projects with a lot of pages and keeping it to one single sidebar."),(0,i.kt)("p",null,"To enhance the user experience going forward, and assuring there's still a coherence in the sidebar, while keeping the Divio paradigm in mind, the suggestion was to split the sidebar to smaller ones and have new links setup in the navbar."),(0,i.kt)("h2",{id:"configuration"},"Configuration"),(0,i.kt)("p",null,"The configuration is done in the two files ",(0,i.kt)("strong",{parentName:"p"},"sidebar.js")," and ",(0,i.kt)("strong",{parentName:"p"},"docusaurus.config.js"),"."),(0,i.kt)("p",null,"To help explaining the whole configuration, a fictive example with Rancher Desktop will be used."),(0,i.kt)("h3",{id:"sidebarjs"},"sidebar.js"),(0,i.kt)("p",null,"As described in ",(0,i.kt)("a",{parentName:"p",href:"https://docusaurus.io/docs/sidebar/multiple-sidebars"},"Docusaurus docs"),", multiple sidebars can be created by providing a unique name and referencing the pages for each sidebar."),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"While the docs confirm that a page can be referenced in multiple sidebars, it will have an impact on browsing as the sidebar while seeing the page might change for another one. The users will loose the context they were browsing and it can bring confusion."),(0,i.kt)("p",{parentName:"admonition"},"Therefore, it's ",(0,i.kt)("strong",{parentName:"p"},"strongly recommended")," to have the pages referenced in ",(0,i.kt)("strong",{parentName:"p"},"only one")," sidebar.")),(0,i.kt)("p",null,"Here's an example with the Rancher Desktop ",(0,i.kt)("strong",{parentName:"p"},"sidebar.js"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'// Before\ntutorialSidebar: [\n\n  ...\n\ntutorialSidebar: [\n\n  ...\n\n  {\n    type: \'category\',\n    label: \'HowTos\',\n    items: [\n      "how-to-guides/hello-world-example",\n      "how-to-guides/transfer-container-images",\n      "how-to-guides/create-multi-node-cluster",\n      "how-to-guides/setup-NGINX-Ingress-Controller",\n      "how-to-guides/skaffold-and-rancher-desktop",\n      "how-to-guides/running-air-gapped"\n    ],\n  },\n\n  ...\n],\n\n// After\ntutorialSidebar: [\n\n  ...\n\n],\n\nhowtoSidebar: [\n\n  "how-to-guides/hello-world-example",\n\n  {\n    type: \'category\',\n    label: \'Containers & Kubernetes\',\n    items: [\n      "how-to-guides/transfer-container-images",\n      "how-to-guides/create-multi-node-cluster",\n      "how-to-guides/setup-NGINX-Ingress-Controller",\n      "how-to-guides/skaffold-and-rancher-desktop",\n      "how-to-guides/running-air-gapped"\n    ],\n  },\n],\n')),(0,i.kt)("p",null,'As shown in the example, the goal would be to "extract" a bigger section, such as tutorials and howto, from the main sidebar to create a new one.'),(0,i.kt)("p",null,"Once this work is done, the second step can be started."),(0,i.kt)("h3",{id:"docusaurusconfigjs"},"docusaurus.config.js"),(0,i.kt)("p",null,"By default, with the unique sidebar, there's no need to configure anything. The sidebar will be loaded when opening the website, and all the pages will be accessible from it."),(0,i.kt)("p",null,"When migrating to a multiple sidebar setup, there's a need to configure a way to reach the other sidebars. This is where the new links in the navbar will help."),(0,i.kt)("p",null,"The links can be set a docID, meaning when the page will open, Docusaurus will display the associated sidebar to the page."),(0,i.kt)("p",null,"Here's an example with the Rancher Desktop ",(0,i.kt)("strong",{parentName:"p"},"docusaurus.config.js"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"// Before\nnavbar: {\n  logo: {\n    alt: 'Rancher Desktop Logo',\n    src: 'img/logo.svg',\n  },\n\n  ...\n},\n\n// After\nnavbar: {\n  logo: {\n    alt: 'Rancher Desktop Logo',\n    src: 'img/logo.svg',\n  },\n  items: [\n    {\n      type: 'doc',\n      docId: 'getting-started/introduction',\n      position: 'left',\n      label: 'Documentation',\n    },\n    {\n      type: 'doc',\n      docId: 'how-to-guides/hello-world-example',\n      position: 'left',\n      label: 'Guides',\n    },\n  ],\n\n  ...\n}\n\n")),(0,i.kt)("h2",{id:"caveats"},"Caveats"),(0,i.kt)("p",null,"One of the major caveat with this solution, is the impact of the browsing with versioned docs, which the majority or the SUSE projects use, if not all."),(0,i.kt)("p",null,'There\'s a "misalignment" between the sidebar, which is impacted by versioning, and the navbar, which is static without versioning.'),(0,i.kt)("p",null,'In order words, for the example above, only the "next" version of the ',(0,i.kt)("strong",{parentName:"p"},"sidebar.js"),' was updated, so until the "next" version becomes the "current" version, the links will still be displayed but the sidebar will still be the unique one.'),(0,i.kt)("p",null,"To solve this potential issue, all the versioned sidebars should be updated. However this could bring us to the next major caveat: link not found (404) for the docs page referenced by the link."),(0,i.kt)("p",null,'As docs are evolving and being updated quite often, the risk of having the page referenced by the navbar link not "existing" in certain versions can be quite high.'),(0,i.kt)("p",null,"To solve this potential issue, it would require the creation of a generic page for each link and in all versions."),(0,i.kt)("h2",{id:"conclusion-and-next-steps"},"Conclusion and next steps"),(0,i.kt)("p",null,"As discussed during the meeting, this is just a suggestion and as a potential next milestone, it would be to go through our projects and see if all, or just some of them, could leverage this suggestion and try to proactively see if the caveats explained above, could impact the docs site (strong chances of impact)."))}p.isMDXComponent=!0}}]);